<!--
  @description       : 
  @author            : jiyoung.p@dncompany.com
  @group             : 
  @last modified on  : 2025-09-15
  @last modified by  : jiyoung.p@dncompany.com
-->
<template>
    <!-- Loading Spinner -->
    <template if:true={isLoading}>
        <lightning-spinner variant="brand" alternative-text="Loading"></lightning-spinner>
    </template>


    <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">
        <div class="slds-modal__header">
            <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate" tabindex="-1">{cLabel.DNS_T_NewTicket}</h1>
        </div>
        <div class="button-wrap">
            <lightning-button label={cLabel.DNS_SearchEquipment} onclick={handleEquipmentSearch} title="ìž¥ë¹„ì¡°íšŒ" variant="Neutral"></lightning-button>
            <lightning-button label={cLabel.DNS_SearchContact} onclick={handleContactSearch} title="ì—°ë½ì²˜ì¡°íšŒ" variant="Neutral"></lightning-button>
        </div>


        <div class="slds-modal__content slds-p-around_medium recordField" id="modal-content-id-1">
            <div class="slds-form slds-align_absolute-center">
                <!-- ðŸš©Layout -->
                <div class="form-container">
                    <lightning-record-edit-form aura:id="recordEditForm" object-api-name="Case" record-type-id={recordTypeId}>
                      <h2 class="infoTitle">{cLabel.ServiceReception}</h2>
                          <div class="field-wrap">
                              <div class="input-wrap">
                                  <!--ìƒíƒœ-->
                                  <lightning-input-field field-name="Status" required="true" onchange={handleStatusChange}></lightning-input-field>
                                  <!--ì¢…ê²°ì‚¬ìœ -->
                                  <template if:true={isClosed}>
                                      <lightning-input-field field-name="EndOfReason__c" onchange={handleEndOfReasonChange}></lightning-input-field>
                                      <!--ì¡°ì¹˜ê²°ê³¼-->
                                      <template if:true={isCallService}>
                                          <lightning-input-field field-name="ResultOfMeasure__c"></lightning-input-field>
                                      </template>
                                      <!--ì¢…ê²°ì‚¬ìœ (ìƒì„¸)-->
                                      <template if:true={isClosedReasonDetails}>
                                          <lightning-input-field field-name="ClosedReasonDetails__c"></lightning-input-field>
                                      </template>
                                  </template>

                                  <!--ë°°ì •ë³´ë¥˜ì‚¬ìœ -->
                                  <template if:true={isAssignHoldingReason}>
                                      <lightning-input-field field-name="AssignHoldingReason__c"></lightning-input-field>
                                  </template>

                                  <!--ë°˜ë ¤ì‚¬ìœ -->
                                  <template if:true={isRejectReasonDetails}>
                                      <lightning-input-field field-name="RejectReasonDetails__c" ></lightning-input-field>
                                  </template>

                                  <!--ìž¥ë¹„ & ê³ ê°ì‚¬-->
                                  <!-- <lightning-input-field id="ticketAssetId" field-name="AssetId" onchange={handleAsset} required="{!v.isRequired}"></lightning-input-field> -->
                                  <lightning-input-field id="ticketAccountId" field-name="AccountId" onchange={handleAccount}></lightning-input-field>
                                  <!--ìš”ì²­ìž-->
                                  <lightning-input-field id="ticketContactId" field-name="Requester__c"></lightning-input-field>

                                  <!-- Dealer ì •ë³´ëŠ” DNSAì¼ ë•Œë§Œ í‘œì¶œ -->
                                  <!-- <template if:true={isClosed}> -->
                                  <!-- <aura:if isTrue="{!v.country == 'DNSA'}"> -->
                                      <!--Dealer-->
                                      <!-- <lightning-input-field field-name="Dealer__c"
                                          value="{!t.Dealer__c}"></lightning-input-field> -->
                                      <!--Dealer Contact-->
                                      <!-- <lightning-input-field field-name="DealerContact__c"
                                          value="{!t.DealerContact__c}"></lightning-input-field> -->
                                  <!-- </template> -->
                                  <!--ë‚´ë¶€ìš”ì²­ìž-->
                                  <!-- <template if:true={isClosed}>
                                  <aura:if
                                      isTrue="{! t.TicketType__c == 'Internal request' || t.InternalTicketType__c == 'Installation request'}">
                                      <lightning-input-field field-name="InternalRequester__c" ></lightning-input-field>
                                  </template> -->

                                  <!--ì•Œë¦¼í†¡ì•Œë¦¼(To.ê³ ê°)-->
                                  <lightning-input-field field-name="isAlarmToCustomer__c" onchange={handleAlarm}></lightning-input-field>
                                  <!--ì ‘ìˆ˜ë‚´ìš©-->
                                  <div class="receptionDetails">
                                      <lightning-input-field field-name="ReceptionDetails__c" required="true" ></lightning-input-field>
                                  </div>

                              </div>

                              


                          </div>
                    </lightning-record-edit-form>
                </div>
            </div>
        </div>
      </div>
    </section>
    <!-- <div class="slds-backdrop slds-backdrop_open" role="presentation"></div> -->
</template>