/**
 * @description       : 
 * @author            : Hanyeong Choi
 * @last modified on  : 05-14-2025
 * @last modified by  : Hanyeong Choi
**/
public with sharing class DN_RFQFileSend {
    @future(callout=true)
    public static void callRFQ2(String serializedFileRequests) {
        // JSON 문자열을 역직렬화해서 RFQFileRequest 리스트로 변환
        List<RFQFileRequest> fileRequests = (List<RFQFileRequest>) JSON.deserialize(serializedFileRequests, List<RFQFileRequest>.class);
        
        IF_AEPortal_PS instance = new IF_AEPortal_PS();
        // 파일 요청들 돌면서 reqList에 추가
        for (RFQFileRequest fileReq : fileRequests) {
            List<IF_AEPortal_PS_Classes.IF_OPTY_016_Req> reqList = new List<IF_AEPortal_PS_Classes.IF_OPTY_016_Req>();
            IF_AEPortal_PS_Classes.IF_OPTY_016_Req req = new IF_AEPortal_PS_Classes.IF_OPTY_016_Req();
            req.FILE_NAME = fileReq.fileName;
            req.INQUIRY_SEQ = fileReq.inquirySeq;
            req.DOWNLOAD_URL = fileReq.downloadUrl;
            req.INQUIRY_ID = fileReq.inquiryId;
            reqList.add(req);
            
            instance.interfaceUtil.isInsertLog = false;
            instance.IF_OPTY_016(reqList);
        }
        instance.interfaceUtil.saveInterfaceLog();

        // if (!reqList.isEmpty()) {
        //     IF_AEPortal_PS instance = new IF_AEPortal_PS();
        //     instance.IF_OPTY_016(reqList);
        // }
    }

    // 파일 요청 정보 담을 내부 클래스 (Serializable 필요)
    public class RFQFileRequest {
        public String fileName { get; set; }
        public String inquirySeq { get; set; }
        public String downloadUrl { get; set; }
        public String inquiryId { get; set; }

        public RFQFileRequest() {}

        public RFQFileRequest(String fileName, String inquirySeq, String downloadUrl, String inquiryId) {
            this.fileName = fileName;
            this.inquirySeq = inquirySeq;
            this.downloadUrl = downloadUrl;
            this.inquiryId = inquiryId;
        }
    }
    
    public static void dummy() {
        Integer i = 0;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        i++;
        
    }
}