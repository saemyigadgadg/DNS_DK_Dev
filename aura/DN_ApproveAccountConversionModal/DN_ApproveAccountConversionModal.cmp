<!--
    @description       : 
    @author            : Hanyeong Choi
    @group             : 
    @last modified on  : 10-23-2024
    @last modified by  : Hyerin Ro
    Modifications Log
    Ver   Date         Author          Modification
    1.0   06-18-2024   Hanyeong Choi   Initial Version
    1.0   06-19-2024   Hyerin Ro       Publish
-->
<aura:component implements="forceCommunity:availableForAllPageTypes,force:lightningquickactionwithoutheader,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:hasSObjectName,force:lightningQuickAction,lightning:isUrlAddressable,lightning:actionOverride,lightning:hasPageReference,lightning:availableForFlowScreens"
                controller="DN_AccountController" 
                description="ÎîúÎü¨Ïùò Ïã§ Í≥†Í∞ù Ï†ÑÌôò ÏöîÏ≤≠ÏùÑ ÏäπÏù∏">

  <!-- üö©Aura Attribute -->
  <aura:attribute name="isLoading"      type="Boolean"  default="false" />
  <aura:attribute name="isKorea"        type="Boolean"  default="false" />
  <aura:attribute name="isBVC"          type="Boolean"  default="false" />
  <aura:attribute name="orderList"      type="List"     default="[]" />
  <aura:attribute name="recordId"       type="String" />
  <aura:attribute name="sObjectName"    type="String" />
  <aura:attribute name="customerSystem" type="String" />
  <aura:attribute name="csStartDate"    type="String" />
  <aura:attribute name="csEndDate"      type="String" />
  <aura:attribute name="bvcDealer"      type="String" />
  <aura:attribute name="bvcStartDate"   type="String" />
  <aura:attribute name="bvcEndDate"     type="String" />

  <!-- üö©Aura Handler -->
  <aura:handler name="init" value="{!this}" action="{! c.doInit }" />

  <lightning:overlayLibrary aura:id="overlayLib" />

  <!-- üö© Aura Style -->
  <aura:html tag="style">
    <!-- Í∏∞Î≥∏ ÌîÑÎ†àÏûÑ ÏÑ∏ÌåÖ -->
    .slds-modal__container.cDN_ApproveAccountConversionModal {
      width: 100%;
      max-width: none;
      min-width: unset;
      padding: 0;
    }
    .slds-modal__content:has(.cDN_ApproveAccountConversionModal) {
      height:auto !important;
      max-height:none !important;
      padding: 0;
      overflow-y: clip;
    }

    .forceChatterBasePublisher :not(.PHONE) .cuf-content:has(.cDN_ApproveAccountConversionModal) {
      padding:0;
    }
  </aura:html>

  <aura:if isTrue="{! v.sObjectName == 'Account' }">

    <!-- üö© 1. Modal  -->
    <div class="slds-modal__container">
      <!-- üö©Modal Header -->
      <header class="slds-modal__header">
        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Ïã§ Í≥†Í∞ù Ï†ÑÌôò</h2>
      </header>

      <!-- üö©Modal Body -->
      <div class="modal-body slds-modal__content">
        <!-- üö©Loading Spinner -->
        <aura:if isTrue="{! v.isLoading}">
          <lightning:spinner size="large" variant="brand" alternativeText="Loading" />
        </aura:if>

        <div class="comment-wrap top-card">
          <div class="icon-wrap">
            <lightning:icon iconName='utility:check' alternativeText='check' size='medium' title='check'>
            </lightning:icon>
          </div>
          <p class="comment">Ïã§ Í≥†Í∞ù Ï†ÑÌôòÏùÑ ÏäπÏù∏ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
        </div>

        <!-- Í≥†Í∞ùÏ†úÎèÑ or BVCÏù¥Î©¥ Ïù¥ÎØ∏ Ïã§ Í≥†Í∞ùÏù¥Í∏∞ ÎïåÎ¨∏Ïóê Ïã§Í≥†Í∞ùÏ†ÑÌôòÏöîÏ≤≠ Î∂àÍ∞Ä -->
        <!-- üö©Card 01 -->
        <!--
        <aura:if isTrue="{! v.isKorea }">
          <aura:if isTrue="{! v.customerSystem != '' }">
            <lightning:recordViewForm recordId="{!v.recordId}" objectApiName="Account">
              <div class="card-01 top-card">
                <div class="field-wrap">
                  <p>Í≥†Í∞ù Ï†úÎèÑ </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="CustomerSystem__c" variant="label-hidden" />
                  </div>
                </div>
                <div class="field-wrap">
                  <p>Í≥†Í∞ù Ï†úÎèÑ ÏãúÏûëÏùº </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="CustomerSystemStartDate__c" variant="label-hidden" />
                  </div>
                </div>
                <div class="field-wrap"></div>
                <div class="field-wrap">
                  <p>Í≥†Í∞ù Ï†úÎèÑ Ï¢ÖÎ£åÏùº </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="CustomerSystemEndDate__c" variant="label-hidden" />
                  </div>
                </div>
              </div>
            </lightning:recordViewForm>
          </aura:if>
          -->

          <!-- üö©Card 02 -->
          <!--
          <aura:if isTrue="{! v.isBVC }">
            <lightning:recordViewForm recordId="{!v.recordId}" objectApiName="Account">
              <div class="card-02 top-card">
                <div class="field-wrap">
                  <p>BVC Ïó¨Î∂Ä </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="IsBVC__c" variant="label-hidden" />
                  </div>
                </div>
                <div class="field-wrap">
                  <p>BVC ÏãúÏûëÏùº </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="BVCStartDate__c" variant="label-hidden" />
                  </div>
                </div>
                <div class="field-wrap">
                  <p>BVC ÎåÄÎ¶¨Ï†ê </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="BVCDealer__c" variant="label-hidden" />
                  </div>
                </div>
                <div class="field-wrap">
                  <p>BVC Ï¢ÖÎ£åÏùº </p>
                  <div class="input-wrap">
                    <lightning:outputField class="field-content" fieldName="BVCEndDate__c" variant="label-hidden" />
                  </div>
                </div>
              </div>
            </lightning:recordViewForm>
          </aura:if>
        </aura:if>
        -->

        <!-- Í≥†Í∞ùÏ†úÎèÑ or BVCÏù¥Î©¥ Ïù¥ÎØ∏ Ïã§ Í≥†Í∞ùÏù¥Í∏∞ ÎïåÎ¨∏Ïóê Ïã§Í≥†Í∞ùÏ†ÑÌôòÏöîÏ≤≠ Î∂àÍ∞Ä -->
        <!-- üö©Card 03 -->
        <!--
        <div class="card-03 top-card">
          <h2>ÌÉÄ ÎåÄÎ¶¨Ï†ê Ï£ºÎ¨∏ Ïù¥Î†•</h2>
          <div class="table-wrap">
            <table class="table-info">
              <thead>
                <tr>
                  <th>ÎåÄÎ¶¨Ï†ê Ïù¥Î¶Ñ</th>
                  <th>Ï£ºÎ¨∏ Î≤àÌò∏</th>
                  <th>Ï£ºÎ¨∏ ÏÉùÏÑ± ÏùºÏãú</th>
                  <th>Ï£ºÎ¨∏ ÏßÑÌñâ ÏÉÅÌô©</th>
                </tr>
              </thead>
              <tbody>
                <aura:iteration items="{!v.orderList}" var="item" indexVar="index">
                  <tr>
                    <td>{!item.orderOwner}</td>
                    <td>{!item.orderNumber}</td>
                    <td>{!item.orderCreatedDate}</td>
                    <td>{!item.orderStatus}</td>
                  </tr>
                </aura:iteration>
              </tbody>
            </table>
          </div>
        </div>
        -->
      </div>

      <!-- üö©Modal Footer -->
      <footer class="slds-modal__footer">
        <button class="slds-button slds-button_neutral closeBtn" onclick="{!c.handleClose}">Îã´Í∏∞</button>
        <div class="button-wrap">
          <button class="slds-button slds-button_brand" onclick="{!c.handleConfirm}">ÏäπÏù∏</button>
          <button class="slds-button slds-button_neutral" onclick="{!c.handleReject}">Í±∞Ï†à</button>
        </div>
      </footer>
    </div>

    <!-- üö© 2. DNS_RequestToUseCustomer__c Component -->
    <aura:set attribute="else">
      <div class="total-wrap">

        <!-- üö©Loading Spinner -->
        <aura:if isTrue="{! v.isLoading}">
          <lightning:spinner size="large" variant="brand" alternativeText="Loading" />
        </aura:if>

        <div class="body">
          <aura:if isTrue="{! v.isKorea }">

            <!-- üö©Accordion 01 : Í≥†Í∞ù Ï†úÎèÑ -->
            <!-- <aura:if isTrue="{! v.customerSystem != '' }">
              <div class="card-01 top-card">
                <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="CustomerSystem">
                  <lightning:accordionSection name="CustomerSystem" label="Í≥†Í∞ù Ï†úÎèÑ" class="section-container">
                    <div class="accordion-body">
                      <div class=" field-wrap">
                        <p>Í≥†Í∞ù Ï†úÎèÑ </p>
                        <div class="input-wrap">{!v.customerSystem}</div>
                      </div>
                      <div class=" field-wrap">
                        <p>Í≥†Í∞ù Ï†úÎèÑ ÏãúÏûëÏùº </p>
                        <div class="input-wrap">{!v.csStartDate}</div>
                      </div>
                      <div class=" field-wrap"></div>
                      <div class=" field-wrap">
                        <p>Í≥†Í∞ù Ï†úÎèÑ Ï¢ÖÎ£åÏùº </p>
                        <div class="input-wrap">{!v.csEndDate}</div>
                      </div>
                    </div>
                  </lightning:accordionSection>
                </lightning:accordion>
              </div>
            </aura:if> -->

            <!-- üö©Accordion 02. BVC -->
            <!-- 
            <aura:if isTrue="{! v.isBVC }">
              <div class="card-02 top-card">
                <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="BVC">
                  <lightning:accordionSection name="BVC" label="BVC" class="section-container">
                    <div class="accordion-body">
                      <div class=" field-wrap">
                        <p>BVC Ïó¨Î∂Ä </p>
                        <div class="input-wrap">Y</div>
                      </div>
                      <div class=" field-wrap">
                        <p>BVC ÏãúÏûëÏùº </p>
                        <div class="input-wrap">{!v.bvcStartDate}</div>
                      </div>
                      <div class=" field-wrap">
                        <p>BVC ÎåÄÎ¶¨Ï†ê </p>
                        <div class="input-wrap">{!v.bvcDealer}</div>
                      </div>
                      <div class=" field-wrap">
                        <p>BVC Ï¢ÖÎ£åÏùº </p>
                        <div class="input-wrap">{!v.bvcEndDate}</div>
                      </div>
                    </div>
                  </lightning:accordionSection>
                </lightning:accordion>
              </div>
            </aura:if> 
            -->
          </aura:if>

          <!-- üö©Card 03 -->
          <div class="card-03 top-card">
            <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="CustomerSystem">
                  <lightning:accordionSection name="CustomerSystem" label="ÌÉÄ ÎåÄÎ¶¨Ï†ê Ï£ºÎ¨∏ Ïù¥Î†•" class="section-container">
                      <div class="table-wrap">
                        <table>
                          <colgroup>
                            <col width="33%" />
                            <col width="33%" />
                            <col width="34%" />
                          </colgroup>
                          <thead>
                            <tr>
                              <th>Requested Delivery Date</th>
                              <th>ÎåÄÎ¶¨Ï†ê Ïù¥Î¶Ñ</th>
                              <th>Í∏∞Ï¢Ö</th>
                              <!-- <th>Ï£ºÎ¨∏ Î≤àÌò∏</th>
                              <th>Ï£ºÎ¨∏ ÏÉùÏÑ± ÏùºÏãú</th>
                              <th>Ï£ºÎ¨∏ ÏßÑÌñâ ÏÉÅÌô©</th> -->
                            </tr>
                          </thead>
                          <tbody>
                            <aura:iteration items="{!v.orderList}" var="item" indexVar="index">
                              <tr>
                                <td>{!item.orderReqDeliveryDate}</td>
                                <td>{!item.orderOwner}</td>
                                <td>{!item.orderItem}</td>
                                <!-- <td>{!item.orderNumber}</td>
                                <td>{!item.orderCreatedDate}</td>
                                <td>{!item.orderStatus}</td> -->
                              </tr>
                            </aura:iteration>
                          </tbody>
                        </table>
                      </div>
                  </lightning:accordionSection>
            </lightning:accordion>
          </div>
        </div>
      </div>
    </aura:set>
  </aura:if>
</aura:component>