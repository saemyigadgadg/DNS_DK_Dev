<!--
  @author            : Yeong-Deok Seo
  @Description       : (Ìè¨ÌÉà) Î∂ÄÌíà Ï£ºÎ¨∏ > Ïò§Îçî Ï°∞Ìöå > Order Detail Information
  @last modified on  : 2025-09-15
  @last modified by  : KyongyunJung@dkbmc.com
  Modifications Log
  Ver   Date         Author                        Modification
  1.0   2024-05-30   yeongdeok.seo@sbtglobal.com   Initial Version
-->
<aura:component
  implements="forceCommunity:availableForAllPageTypes,force:lightningquickactionwithoutheader,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:hasSObjectName,force:lightningQuickAction,lightning:isUrlAddressable,lightning:actionOverride,lightning:hasPageReference,lightning:availableForFlowScreens"
  controller="DN_PortalPartOrderInquiryController"
  description="Ï£ºÎ¨∏Î≤àÌò∏ ÏÉÅÏÑ∏ÌôîÎ©¥">

  <!-- attribute -->
  <aura:attribute name="isLoading"             type="Boolean" default="false" />
  <aura:attribute name="isPartBasicInfoModal"  type="Boolean" default="false" />
  <aura:attribute name="searchBarPartNo"       type="String" />
  <aura:attribute name="detailPage"            type="String" />
  <aura:attribute name="dealerInfo"            type="Object" />

  <aura:attribute name="odiInfo"               type="List" /> 
  <aura:attribute name="partOrderNo"           type="String" />
  <aura:attribute name="Type"                  type="String" />

  <aura:attribute name="orderType"             type="String" />
  <aura:attribute name="orderAmount"           type="String" />
  <aura:attribute name="pcoCurrecny"           type="String" />
  <aura:attribute name="customerOrderNo"       type="String" />
  <aura:attribute name="deliveryDate"          type="date"   />
  <aura:attribute name="consolidatedShipping"  type="String" />

  <aura:attribute name="shippingLocation"      type="Object" />
  <aura:attribute name="shippingInfo"          type="Object" />
  <aura:attribute name="totalPrice"            type="List"   />
  <aura:attribute name="amountSum"             type="String" />
  <aura:attribute name="partsList"             type="List"   />

  <!-- Î∂ÄÌíà Í∏∞Î≥∏ Ï†ïÎ≥¥ Í¥ÄÎ†® ÌäπÏÑ± -->
  <aura:attribute name="orderPartNo"           type="String" />
  <aura:attribute name="purchase"              type="Object" />

  <aura:attribute name="partNumber"            type="String" />
  <aura:attribute name="partInfo"              type="Object" />
  <aura:attribute name="replaceList"           type="List" />
  <aura:attribute name="replaceName"           type="String" />

  <aura:attribute name="detailOrder"           type="Object" />
  

  <aura:attribute name="radioOptions"          type="List" default="[
        {'label': 'Yes', 'value': 'Yes'},
        {'label': 'No', 'value': 'No'}
    ]" />
  
  <aura:attribute name="partsList2" type="List" default="[
        {'EBELP': '000010', 'REPNR': 'L31151063C', 'MAKTX' : 'COLLAR;ADJUSTING', 'MENGE' : '1', 'MEINS' : 'EA', 'WAERS' : 'KRW', 'NETPR' : '38000', 'DISPR' : '34200', 'DMBTR' : '34200', 'GIQTY' : '0', 'OUQTY' : '1', 'changeQTY' : '', 'FNQTY' : '', 'AVQTY' : '2', 'STAT' : 'Í±∞Ï†à'}
    ]" />
  <aura:attribute name="issearching" type="Boolean" default="false" />
  <!-- <aura:attribute name="searchPartsList" type="List" default="[
        {'MATNR': 'C46026043', 'MAKTX': 'ÏóòÏó†Í∞ÄÏù¥Îìú;NM510.X.ROLLER'},
        {'MATNR': 'C46026043A', 'MAKTX': 'ÏóòÏó†Í∞ÄÏù¥Îìú;NM51HS.X.ROLLER'}
    ]" /> -->
  <aura:attribute name="dropdownList" type="List" />

  <!-- handler -->
  <aura:handler name="init" value="{! this }" action="{! c.init }" />
  <aura:handler name="cmpEvent" event="c:DN_HandlerEvent" action="{!c.handleCompEvent}" />

  <!-- Excel -->
  <ltng:require scripts="{!$Resource.SheetJS + '/xlsx-js-style-master/dist/xlsx.bundle.js'}" afterScriptsLoaded="{!c.handleScriptsLoaded}" />

  <div class="purchaseOrderDetailModal">
        
    <div aura:id="purchaseOrderDetailModal" class="slds-modal slds-fade-in-open">

      <!-- Close -->
      <button class="slds-modal__close">
        <lightning:icon iconName='utility:close' alternativeText='close' variant='inverse' size='small' title='close'
          name="closeModal" onclick="{!c.puchaseOrderDetailModalCancel}"></lightning:icon>
      </button>

      <!-- üìå Ï£ºÎ¨∏Î≤àÌò∏Í∞Ä 2, 3ÏúºÎ°ú ÏãúÏûëÌïòÎäî Í≤ΩÏö∞ -->
      <aura:if isTrue="{!v.detailPage == '3Type'}">

        <div class="container-01 slds-modal__container slds-modal_large">

          <!-- Header -->
          <header class="slds-modal__header">
            <h2 class="slds-text-heading_medium">Order Detail Information</h2>
            <div class="button-wrap">
              <lightning:button name="excel" label="{!$Label.c.DNS_SRT_Excel+'(List)'}" onclick="{!c.downloadExcel}" />
              <lightning:button name="excel" label="{!$Label.c.DNS_SRT_Excel+'(All)'}" onclick="{!c.downloadExcel2}" />
            </div>

            <!-- Close -->
            <button class="close_button_template slds-modal__close">
              <lightning:icon iconName='utility:close' alternativeText='close' variant='inverse' size='small'
                title='close' name="closeModal" onclick="{!c.puchaseOrderDetailModalCancel}"></lightning:icon>
            </button>
          </header>

          <!-- Body -->
          <div class="modal-body slds-modal__content">

            <div class="card-01 top-card">
              <div class="field-wrap">
                <p class="label">{!$Label.c.POS_OrderType}</p> <!--Ï£ºÎ¨∏Ïú†Ìòï-->
                <div class="input-wrap">
                  {!v.orderType}
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.RC_CustomerOrderNumber}</p> <!--Í≥†Í∞ùÏ£ºÎ¨∏Î≤àÌò∏-->
                <div class="input-wrap">
                  {!v.customerOrderNo}
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.ORD_RequestedDeliveryDate}</p> <!--ÏöîÏ≤≠Î∞∞ÏÜ°ÏùºÏûê-->
                <div class="input-wrap">
                  {!v.deliveryDate}
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.ORC_ConsolidatedShipping}</p> <!--ÏùºÍ¥ÑÎ∞∞ÏÜ°Ïó¨Î∂Ä-->
                <div class="input-wrap">
                  <lightning:radioGroup name="radioGroup" options="{! v.radioOptions }" value="{!v.consolidatedShipping}" type="radio"
                    variant="label-hidden" disabled="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.ORC_ShippingAddress}</p> <!--Î∞∞ÏÜ°Ï≤ò-->
                <div class="input-wrap" style="width: 100%;">
                  {!v.shippingLocation.shippingAddress}
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.ORD_Recipient}</p> <!--ÏàòÏã†Ïûê-->
                <div class="input-wrap">
                  {!v.shippingLocation.partManager}
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.DNS_C_Phone}</p> <!--Ï†ÑÌôîÎ≤àÌò∏-->
                <!-- Ïù¥Í≤å ÌöåÏÇ¨ Ï†ÑÌôîÎ≤àÌò∏ Î≥¥Ïó¨Ï£ºÎäîÎç∞ -->
                {!v.shippingLocation.partManagerMP}
                <div class="input-wrap">
                </div>
              </div>
            </div>

            <div class="card-02 top-card">
              <div class="slds-scrollable">
                <header class="card-header slds-card__header slds-grid">
                  <lightning:icon iconName="custom:custom33" size="small" alternativeText="Indicates approval" />
                  <h2 class="slds-truncate">{!$Label.c.ORC_ShippingInformation}</h2> <!--Î∞∞ÏÜ°Ï†ïÎ≥¥-->
                </header>

                <div class="table-wrap">
                  <table class="slds-table slds-table_cell-buffer   slds-table_col-bordered IP-table">
                    <colgroup>
                      <col width="13%" />
                      <col width="17%" />
                      <col width="40%" />
                      <col width="10%" />
                      <col width="20%" />
                    </colgroup>
                    <thead>
                      <tr class="slds-line-height_reset">
                        <th class="" scope="col">
                          <div class="slds-truncate" title="">{!$Label.c.ORC_ShippingTerms}</div> <!--ÏÑ†Ï†ÅÏ°∞Í±¥-->
                        </th>
                        <th class="" scope="col">
                          <div class="slds-truncate" title="">{!$Label.c.ORD_ShippingRoute}</div> <!--Î∞∞ÏÜ°Í≤ΩÎ°ú-->
                        </th>
                        <th class="" scope="col">
                          <div class="slds-truncate" title="">{!$Label.c.ORC_PaymentTerms}</div> <!--ÏßÄÍ∏âÏ°∞Í±¥-->
                        </th>
                        <th class="" scope="col">
                          <div class="slds-truncate" title="">{!$Label.c.ORC_TransportationCondition}1</div> <!--Ïö¥ÏÜ°Ï°∞Í±¥1-->
                        </th>
                        <th class="" scope="col">
                          <div class="slds-truncate" title="">{!$Label.c.ORC_TransportationCondition}2</div> <!--Ïö¥ÏÜ°Ï°∞Í±¥2-->
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                        <tr class="slds-hint-parent">
                          <td data-label="ÏÑ†Ï†ÅÏ°∞Í±¥" class="center"> 
                            {!v.shippingInfo.shippingTerm}
                          </td>
                          <td data-label="Î∞∞ÏÜ°Í≤ΩÎ°ú" class="center"> 
                            <!-- ÏÑ§Ï†ïÎèÑ ÏïàÌïú Ï†ïÎ≥¥Í∞Ä Ïôú ÎÇòÌÉÄÎÇ†Íπå? -->
                            {!v.shippingInfo.shippingRoute}
                          </td>
                          <td data-label="ÏßÄÍ∏âÏ°∞Í±¥" class="center">
                            <!-- Ï†ÄÏû•Ìï† Îïê ÏûàÎäî Ï†ïÎ≥¥Ïù∏Îç∞ Ïôú ERP ÏóêÏÑ† Ïïà Ï§ÑÍπå? -->
                            {!v.shippingInfo.paymentTerm}
                          </td>
                          <td data-label="Ïö¥ÏÜ°Ï°∞Í±¥1" class="center">
                            {!v.shippingInfo.transportationTermOne}
                          </td>
                          <td data-label="Ïö¥ÏÜ°Ï°∞Í±¥2" class="center">
                            {!v.shippingInfo.transportationTermTwo}
                          </td>
                        </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div class="card-02 top-card">
              <div >
                <header class="card-header slds-card__header slds-grid">
                  <lightning:icon iconName="custom:custom33" size="small" alternativeText="Indicates approval" />
                  <h2 class="slds-truncate">Parts List ({!$Label.c.RI_TotalAmount} : {!v.orderAmount}&nbsp;{!v.pcoCurrecny})</h2> <!--Ï¥ùÏï°-->
                </header>

                <div class="table-wrap sticky-tables">
                  <div class="table-01 table-left" aura:id="leftTableDiv">
                    <table class="slds-table slds-table_cell-buffer   slds-table_col-bordered IP-table">
                      <colgroup>
                        <col width="20%" />
                        <col width="20%" />
                        <col width="30%" />
                        <col width="30%" />
                      </colgroup>
                      <thead>
                        <tr class="slds-line-height_reset">
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_OrderNum}</div> <!--Ï£ºÎ¨∏Î≤àÌò∏-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_Item}</div> <!--Ìï≠Î™©-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_OrderPartNumber}</div> <!--Ï£ºÎ¨∏ÌíàÎ≤à-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_SupplyNumber}</div> <!--Í≥µÍ∏âÌíàÎ≤à-->
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <aura:iteration items="{!v.partsList}" var="parts" indexVar="k">
                          <tr class="slds-hint-parent">
                            <td data-label="Ï£ºÎ¨∏Î≤àÌò∏" class="center">
                              {!v.partOrderNo}
                            </td>
                            <td data-label="Ìï≠Î™©" class="center">
                              {!parts.hang}
                            </td>
                            <td data-label="Ï£ºÎ¨∏ÌíàÎ≤à" class="left">
                              <a onclick="{!c.openPartBasicInfo}"
                                data-record="{!parts.orderPartNo}">{!parts.orderPartNo}</a>
                            </td>
                            <td data-label="Í≥µÍ∏âÌíàÎ≤à">
                              {!parts.supplyPartNo}
                            </td>
                          </tr>
                        </aura:iteration>
                      </tbody>
                    </table>
                  </div>

                  <div class="table-02 table-right" aura:id="rightTableDiv" onscroll="{!c.handleScroll}">
                    <table class="slds-table slds-table_cell-buffer slds-table_col-bordered IP-table">
                      <colgroup>
                        <col width="24%" />
                        <col width="10%" />
                        <col width="6%" />
                        <col width="12%" />
                        <col width="12%" />
                        <col width="8%" />
                        <col width="19%" />
                        <col width="19%" />
                      </colgroup>
                      <thead>
                        <tr>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.service_lbl_part_name}</div>  <!--ÌíàÎ™Ö-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_OrderQuantity}</div> <!--ÏöîÏ≤≠ÏàòÎüâ -> Ï£ºÎ¨∏ÏàòÎüâ-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_FSL_Unit}</div> <!--Îã®ÏúÑ-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">Shipping Origin</div><!--ÏÜ°Î∂ÄÏ≤ò-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_NetPrice}</div>  <!--Îã®Í∞Ä-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_ListPrice}</div> <!--Í∏àÏï°-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_Currency}</div> <!--ÌÜµÌôî-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.PAR_ModelNo}</div> <!--Í∏∞Ï¢Ö-->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.service_lbl_serial_no}</div> <!--Ïû•ÎπÑÎ≤àÌò∏-->
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <aura:iteration items="{!v.partsList }" var="parts" indexVar="k">
                          <tr class="slds-hint-parent">
                            <td data-label="ÌíàÎ™Ö">
                              {!parts.partName}
                            </td>
                            <td data-label="ÏöîÏ≤≠ÏàòÎüâ" class="right">
                              <lightning:formattedNumber value="{!parts.quantity}" />
                            </td>
                            <td data-label="Îã®ÏúÑ" class="center">
                              {!parts.unit}
                            </td>
                            <td data-label="Shipping Origin">
                              {!parts.DepartureSite}
                            </td>
                            <td data-label="Îã®Í∞Ä">
                              <lightning:formattedNumber value="{!parts.unitPrice}" />
                            </td>
                            <td data-label="Í∏àÏï°" class="right">
                              <lightning:formattedNumber value="{!parts.orderItemAmount}" />
                            </td>
                            <td data-label="ÌÜµÌôî" class="center">
                              {!parts.currency}
                            </td>
                            <td data-label="Í∏∞Ï¢Ö">
                              {!parts.machine}
                            </td>
                            <td data-label="Ïû•ÎπÑÎ≤àÌò∏">
                              {!parts.equipment}
                            </td>
                          </tr>
                        </aura:iteration>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <footer class="slds-modal__footer">
            <lightning:button variant="neutral" label="Cancel" title="Brand action"
              onclick="{!c.puchaseOrderDetailModalCancel}" />
          </footer>
        </div>
      </aura:if>

      <!-- üìå Ï£ºÎ¨∏Î≤àÌò∏Í∞Ä 4Î°ú ÏãúÏûëÌïòÎäîÍ≤ΩÏö∞ -->
      <aura:if isTrue="{!v.detailPage == '4Type'}">
        <div class="container-02 slds-modal__container slds-modal_large">

          <!-- Header -->
          <header class="slds-modal__header">
            <h2 class="slds-text-heading_medium">{!$Label.c.ORD_DealerOrderDetail}</h2> <!-- ÎåÄÎ¶¨Ï†ê Íµ¨Îß§ ÏÉÅÏÑ∏ -->
            <div class="button-wrap">
              <lightning:button name="search" label="{!$Label.c.DNS_SRT_Excel}" onclick="{!c.downloadExcel}" /> <!-- ÏóëÏÖÄ -->
              <lightning:button name="search" label="{!$Label.c.ORD_ChangeRequest}" onclick="" /> <!-- Î≥ÄÍ≤ΩÏöîÏ≤≠ -->
              <lightning:button name="search" label="{!$Label.c.ORD_DeleteRequest}" onclick="" /> <!-- ÏÇ≠Ï†úÏöîÏ≤≠ -->
              <!-- <lightning:button name="search" label="Îã´Í∏∞" onclick="{!c.puchaseOrderDetailModalCancel}" /> -->
            </div>

            <!-- Close -->
            <button class="close_button_template slds-modal__close">
              <lightning:icon iconName='utility:close' alternativeText='close' variant='inverse' size='small'
                title='close' name="closeModal" onclick="{!c.puchaseOrderDetailModalCancel}"></lightning:icon>
            </button>

          </header>

          <!-- Body -->
          <div class="modal-body slds-modal__content">
            <div class="card-01 top-card">
              <div class="field-wrap">
                <p class="label">{!$Label.c.ORD_PurchaseOrderNumber}</p> <!-- Íµ¨Îß§Ï£ºÎ¨∏Î≤àÌò∏ -->
                <div class="input-wrap">
                  <lightning:input value="{!v.purchase.VBELN}" variant="label-hidden" readonly="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">Íµ¨Îß§ÏöîÏ≤≠Î≤àÌò∏</p> <!-- Íµ¨Îß§ÏöîÏ≤≠Î≤àÌò∏  -->
                <div class="input-wrap">
                  <lightning:input value="{!v.purchase.BSTNK}" variant=" label-hidden" readonly="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">ÏÉùÏÑ±ÏùºÏûê</p> <!-- ÏÉùÏÑ±ÏùºÏûê  -->
                <div class="input-wrap">
                  <lightning:input value="{!v.purchase.AUDAT}" variant="label-hidden" readonly="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">Íµ¨Îß§ÎåÄÎ¶¨Ï†ê</p> <!-- Íµ¨Îß§ÎåÄÎ¶¨Ï†ê  -->
                <div class="input-wrap">
                  <lightning:input value="{!v.purchase.NAME1}" variant="label-hidden" readonly="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">{!$Label.c.ORC_ConsolidatedShipping}</p> <!-- ÏùºÍ¥ÑÎ∞∞ÏÜ°Ïó¨Î∂Ä -->
                <div class="input-wrap">
                  <lightning:radioGroup name="radioGroup" options="{! v.radioOptions }" value="No" type="radio"
                    variant="label-hidden" disabled="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">Î∞∞ÏÜ°Î∞©Î≤ï</p> <!-- Î∞∞ÏÜ° Î∞©Î≤ï -->
                <div class="input-wrap">
                  <lightning:input value="Î∞©Î¨∏ÏàòÎ†π" variant="label-hidden" readonly="true" />
                </div>
              </div>
              <div class="field-wrap">
                <p class="label">Î∞∞ÏÜ°Ï≤ò</p> <!-- Î∞∞ÏÜ°Ï≤ò -->
                <div class="input-wrap" style="width: 100%;">
                  <lightning:input value="15084 Í≤ΩÍ∏∞ÎèÑ ÏãúÌù•Ïãú Í≥µÎã®1ÎåÄÎ°ú 145 (Ï†ïÏôïÎèô, ÏãúÌôîÍ≥µÎã® 2ÎÇò 707Ìò∏), ÎåÄÏö∞Í∏∞Í≥Ñ , " variant="label-hidden"
                    readonly="true" />
                </div>
              </div>


            </div>

            <div class="card-02 top-card">
              <div class="slds-scrollable">
                <header class="card-header slds-card__header slds-grid">
                  <lightning:icon iconName="custom:custom33" size="small" alternativeText="Indicates approval" />
                  <h2 class="slds-truncate">{!$Label.c.ORD_OrderList}</h2> <!-- Ï£ºÎ¨∏ ÎÇ¥Ïó≠ -->
                </header>

                <div class="table-wrap sticky-tables">
                  <div class="table-01 left-table">
                    <table class="slds-table slds-table_cell-buffer slds-table_col-bordered IP-table">
                      <colgroup>
                        <col width="5%" />
                        <col width="25%" />
                        <col width="70%" />
                      </colgroup>
                      <thead>
                        <tr class="slds-line-height_reset">
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">
                              <lightning:input type="checkbox" value="" variant="label-hidden" />
                            </div>
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_Item}</div> <!-- Ìï≠Î™© -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_OrderPartNumber}</div> <!-- Ï£ºÎ¨∏ÌíàÎ≤à -->
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <aura:iteration items="{!v.partsList2}" var="parts" indexVar="k">
                          <tr class="slds-hint-parent">
                            <td data-label="checkbox" class="center">
                              <div class="slds-truncate" title="checkbox">
                                <lightning:input type="checkbox" value="" variant="label-hidden" disabled="true" />
                              </div>
                            </td>
                            <td data-label="Ìï≠Î™©" class="center">
                              {!parts.ItemNo}
                            </td>
                            <td data-label="Ï£ºÎ¨∏ÌíàÎ≤à" class="center">
                              {!parts.REPNR}
                            </td>
                          </tr>
                        </aura:iteration>
                      </tbody>
                    </table>
                  </div>
                  <div class="table-02 right-table">
                    <table class="slds-table slds-table_cell-buffer   slds-table_col-bordered IP-table">
                      <colgroup>
                        <col width="12%" />
                        <col width="3%" />
                        <col width="2%" />
                        <col width="3%" />
                        <col width="12%" />
                        <col width="8%" />
                        <col width="8%" />
                        <col width="6%" />
                        <col width="8%" />
                        <col width="12%" />
                        <col width="12%" />
                        <col width="6%" />
                        <col width="8%" />
                      </colgroup>
                      <thead>
                        <tr class="slds-line-height_reset">
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.service_lbl_part_name}</div> <!-- ÌíàÎ™Ö -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORC_OrderQuantity}(A)</div> <!-- ÏàòÎüâ(A)  -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_FSL_Unit}</div> <!-- Îã®ÏúÑ -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_Currency}</div> <!-- ÌÜµÌôî -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_Sales}</div> <!-- Í≥†Í∞ùÌåêÎß§Í∞Ä -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORD_DiscountedPrice}</div> <!-- Ìï†Ïù∏ÌåêÎß§Í∞Ä -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORD_DiscountedSaleAmount}</div> <!-- Ìï†Ïù∏ÌåêÎß§Í∏àÏï° -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORD_ShippingQty}</div> <!-- Ï∂úÍ≥†ÏàòÎüâ -->
                          </th>
                          <th class="" scope="col"> 
                            <div class="slds-truncate" title="">{!$Label.c.ORD_BackorderQty}</div> <!-- ÎØ∏Í≤∞ÏàòÎüâ -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORD_RequestedQuantityChange}(B)</div> <!-- Î≥ÄÍ≤ΩÏöîÏ≤≠ÏàòÎüâ -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.ORD_FinalRequestedQuantity}(A+B)</div> <!-- ÏµúÏ¢ÖÏöîÏ≤≠ÏàòÎüâ -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_FSL_DealerStock}</div> <!-- ÎåÄÎ¶¨Ï†êÏû¨Í≥† -->
                          </th>
                          <th class="" scope="col">
                            <div class="slds-truncate" title="">{!$Label.c.DNS_C_Status}</div> <!-- ÏÉÅÌÉú -->
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <aura:iteration items="{!v.partsList2}" var="parts" indexVar="k">
                          <tr class="slds-hint-parent">
                            <td data-label="ÌíàÎ™Ö">
                              {!parts.MAKTX}
                            </td>
                            <td data-label="ÏàòÎüâ(A)" class="right">
                              <lightning:formattedNumber value="{!parts.MENGE}" />
                            </td>
                            <td data-label="Îã®ÏúÑ" class="center">
                              {!parts.MEINS}
                            </td>
                            <td data-label="ÌÜµÌôî" class="center">
                              {!parts.WAERS}
                            </td>
                            <td data-label="Í≥†Í∞ùÌåêÎß§Í∞Ä" class="right">
                              <lightning:formattedNumber value="{!parts.NETPR}" />
                            </td>
                            <td data-label="Ìï†Ïù∏ÌåêÎß§Í∞Ä" class="right">
                              <lightning:formattedNumber value="{!parts.DISPR}" />
                            </td>
                            <td data-label="Ìï†Ïù∏ÌåêÎß§Í∏àÏï°" class="right">
                              <lightning:formattedNumber value="{!parts.DMBTR}" />
                            </td>
                            <td data-label="Ï∂úÍ≥†ÏàòÎüâ" class="right">
                              <lightning:formattedNumber value="{!parts.GIQTY}" />
                            </td>
                            <td data-label="ÎØ∏Í≤∞ÏàòÎüâ" class="right">
                            </td>
                            <td data-label="Î≥ÄÍ≤ΩÏöîÏ≤≠ÏàòÎüâ(B)">
                              <lightning:formattedNumber value="{!parts.changeQTY}" />
                            </td>
                            <td data-label="ÏµúÏ¢ÖÏöîÏ≤≠ÏàòÎüâ(A+B)">
                              <lightning:formattedNumber value="{!parts.FNQTY}" />
                            </td>
                            <td data-label="ÎåÄÎ¶¨Ï†êÏû¨Í≥†" class="right">
                              <lightning:formattedNumber value="{!parts.AVQTY}" />
                            </td>
                            <td data-label="ÏÉÅÌÉú" class="right">
                              {!parts.STAT}
                            </td>
                          </tr>
                        </aura:iteration>
                      </tbody>
                    </table>
                  </div>
                </div>
                
              </div>
            </div>

          </div>

          <!-- Footer -->
          <footer class="slds-modal__footer">
            <lightning:button variant="neutral" label="Cancel" title="Brand action"
              onclick="{!c.puchaseOrderDetailModalCancel}" />
          </footer>
        </div>
      </aura:if>
      <!-- 8TypeÏùÄ Îî∞Î°ú ÌéòÏù¥ÏßÄÍ∞Ä ÏûàÏúºÎãà Ï∂îÌõÑ ÏÇ≠Ï†úÌï† Î∂ÄÎ∂Ñ -->
      <aura:if isTrue="{!v.detailPage == '8Type'}">
        <!-- Footer -->
        <footer class="slds-modal__footer">
          <lightning:button variant="neutral" label="Cancel" title="Brand action"
            onclick="{!c.puchaseOrderDetailModalCancel}" />
        </footer>
      </aura:if>
    </div>

    <!-- üìå Order Detail InformationÏùºÎïå Ï£ºÎ¨∏ ÌíàÎ≤àÏùÑ ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Modal = Î∂ÄÌíàÍ∏∞Î≥∏Ï†ïÎ≥¥ Î™®Îã¨ -->

    <aura:if isTrue="{!v.isPartBasicInfoModal}">

      <div aura:id="basicInfoModal" class="slds-modal slds-fade-in-open">

        <!-- Î∂ÄÌíàÎ≤àÌò∏ Í≤ÄÏÉâ Modal -->
        <div aura:id="SearchProductNumber"></div>

        <div class="slds-backdrop slds-backdrop_open modalInModal"></div>

        <div class="container-03 slds-modal__container basicInfoModal">

          <!-- Modal Header -->
          <header class="slds-modal__header">
            <h2 class="slds-text-heading_medium">{!$Label.c.BPI_BasicPartsInfo}</h2>  <!-- Î∂ÄÌíàÍ∏∞Î≥∏Ï†ïÎ≥¥ -->
            <!-- <div class="button-wrap">
              <lightning:button name="search" label="Í≤ÄÏÉâ" onclick="" />
            </div> -->

            <!-- Close Button -->
            <button class="close_button_template slds-modal__close">
              <lightning:icon iconName='utility:close' alternativeText='close' variant='inverse' size='small'
                title='close' name="closeModal" onclick="{!c.closePartBasicInfoModal}"></lightning:icon>
            </button>
          </header>

          <!-- Modal Body -->
          <div class="modal-body slds-modal__content">

            <!-- Loading Spinner -->
            <aura:if isTrue="{! v.isLoading}">
              <lightning:spinner size="large" variant="brand" alternativeText="Loading" /> 
            </aura:if>

            <!-- Î∂ÄÌíàÎ≤àÌò∏ ÏûÖÎ†•Ïãú Í≤ÄÏÉâÍ≤∞Í≥º Î≥¥Ïó¨Ï£ºÎäî Dropdown -->
            <!-- <aura:if isTrue="{!v.dropdownList.length > 0}">
              <div class="dropdown top-card">
                <aura:iteration items="{!v.dropdownList}" var="item">
                  <a onclick="{!c.hadleClick}">
                    {!item.oneText}
                    <span>{!item.twoText}</span>
                    {!item.threeText}
                    | {!item.MAKTX}<br />
                  </a>
                </aura:iteration>
              </div>
            </aura:if> -->

            <!-- Card 01 : Í≤ÄÏÉâ ÌïÑÌÑ∞ -->
            <div class="card-01 top-card">

              <div class="field-wrap">
                <p>{!$Label.c.BPI_UserId}</p> <!-- Ïú†Ï†ÄÏïÑÏù¥Îîî -->
                <div class="input-wrap indent">
                  <lightning:input value="{!v.dealerInfo.dealerName}" variant="label-hidden" disabled="true" readonly="true" required="true" />
                </div>
              </div>

              <div class="field-wrap">
                <p>{!$Label.c.service_lbl_part_no}</p> <!-- Î∂ÄÌíàÎ≤àÌò∏ -->
                <div class="input-wrap indent">
                  <lightning:input variant="label-hidden" disabled="true" value="{!v.partNumber}"/>
                  <!-- <lightning:button name="search" label="Í≤ÄÏÉâ" onclick="{!c.doSearch}" /> -->

                  <!-- Î∂ÄÌíàÎ≤àÌò∏ ÏûÖÎ†•Ïãú Í≤ÄÏÉâÍ≤∞Í≥º Î≥¥Ïó¨Ï£ºÎäî Dropdown -->
                  <!-- <aura:if isTrue="{!v.dropdownList.length > 0}">
                    <div class="dropdown top-card">
                      <aura:iteration items="{!v.dropdownList}" var="item">
                        <a onclick="{!c.hadleClick}">
                          {!item.oneText}
                          <span>{!item.twoText}</span>
                          {!item.threeText}
                          | {!item.MAKTX}<br />
                        </a>
                      </aura:iteration>
                    </div>
                  </aura:if> -->

                </div>
              </div>
            </div>

            <!-- Card 02 -->
            <div class="card-02 top-card">
              <table class="slds-table slds-table_cell-buffer slds-table_col-bordered IP-table">
                <tr>
                  <td class="name">{!$Label.c.DNS_FSL_ProductName}</td> <!-- ÌíàÎ™Ö -->
                  <td>
                    <lightning:input value="{!v.partInfo.partName}" variant="label-hidden" readonly="true" />
                  </td>
                  <td class="name">{!$Label.c.DNS_FSL_StockQuantity}</td> <!-- Ïû¨Í≥†ÏàòÎüâ -->
                  <td>
                    <lightning:input value="{!v.partInfo.stockQuantity}" variant="label-hidden" readonly="true" />
                  </td>
                </tr>
                <tr>
                  <td class="name">{!$Label.c.ORC_NetPrice}</td> <!-- Îã®Í∞Ä -->
                  <td>
                    <lightning:input value="{!v.partInfo.unitPrice}" variant="label-hidden" readonly="true" />
                  </td>
                  <td class="name">{!$Label.c.BPI_RetailPrice}</td> <!-- ÏÜåÎπÑÏûê Í∞ÄÍ≤© -->
                  <td>
                    <lightning:input value="{!v.partInfo.consumerPrice}" variant="label-hidden" readonly="true" />
                  </td>
                </tr>
                <tr>
                  <td class="name">{!$Label.c.BPI_Priceapplicationdate}</td> <!-- Í∞ÄÍ≤© Ï†ÅÏö©Ïùº -->
                  <td>
                    <lightning:input value="{!v.partInfo.priceEffectiveDate}" variant="label-hidden" readonly="true" />
                  </td>
                  <td class="name">{!$Label.c.BPI_PurchaseLT}</td> <!-- Íµ¨Îß§ Lead Time (Days) -->
                  <td>
                    <lightning:input value="{!v.partInfo.purchaseLeadTime}" variant="label-hidden" readonly="true" />
                  </td>
                </tr>
                <tr>
                  <td class="name">{!$Label.c.DNS_FSL_Replacement}</td> <!-- ÎåÄÏ≤¥Ìíà -->
                  <td>
                    <div class="input-wrap">
                      <lightning:input value="{!v.replaceName}" variant="label-hidden" readonly="true" />
                      <!-- <span>
                        <lightning:buttonicon iconName="utility:search" size="small" alternativeText="Search"
                          onclick="{!c.openSearchReplaceProductNumber}" accesskey="{!v.orderPartNo}" />
                      </span> -->
                    </div>
                  </td>
                  <td class="name">{!$Label.c.DNS_FSL_Specification}</td> <!-- Í∑úÍ≤© -->
                  <td>
                    <lightning:input value="{!v.partInfo.specification}" variant="label-hidden" readonly="true" />
                  </td>
                </tr>
                <tr>
                  <td class="name">{!$Label.c.DNS_FSL_Unit}</td> <!-- Îã®ÏúÑ -->
                  <td>
                    <lightning:input value="{!v.partInfo.unit}" variant="label-hidden" readonly="true" />
                  </td>
                  <td class="name">Service Lead Time(day)</td> <!--  -->
                  <td>
                    <lightning:input value="{!v.partInfo.serviceLeadTime}" variant="label-hidden" readonly="true" />
                  </td>
                </tr>
                <!-- <tr>
                  <td class="name">Ìï¥Ïô∏ Ï∂úÏû•Ïûê Í¥ÄÎ¶¨</td>
                  <td>
                    <lightning:input value="{!v.partInfo.btm}" variant="label-hidden" readonly="true" />
                  </td>
                  <td class="name">ÏÑ±Î™Ö</td>
                  <td>
                    <lightning:input value="{!v.partInfo.sign}" variant="label-hidden" readonly="true" />
                  </td>
                </tr> -->
                <tr>
                  <td class="name">{!$Label.c.ORD_AgentRemarks}</td> <!-- ÎåÄÎ¶¨ÏÉÅ Î©îÎ™®  -->
                  <td colspan="3">
                    <lightning:input value="" variant="label-hidden" readonly="true" />
                  </td>
                </tr>
              </table>
            </div>

            <!-- Card 03 -->
            <div class="card-02 top-card">
              <header class="card-header slds-card__header slds-grid">
                <lightning:icon iconName="custom:custom33" size="small" alternativeText="Indicates approval" />
                <h2 class="slds-truncate">{!$Label.c.BPI_ReplacementInfo}</h2> <!-- ÎåÄÏ≤¥Ìíà Ï†ïÎ≥¥ -->
              </header>
              <table class="slds-table slds-table_cell-buffer slds-table_col-bordered IP-table">
                <thead>
                  <tr>
                      <th>Seq</th>
                      <th>Material</th>
                      <th>Material Desc.</th>
                      <th>ICA</th>
                      <th>NSR</th>
                      <th>Avil.Qty</th>
                      <th>Avil.Qty2</th>
                  </tr>
                </thead>
                <tbody>
                  <aura:iteration items="{!v.replaceList}" var="rep" indexVar="j">
                    <tr>
                      <td>{!rep.seq}</td>
                      <td>{!rep.material}</td>
                      <td>{!rep.mamterialDesc}</td>
                      <td>{!rep.ica}</td>
                      <td>{!rep.nsr}</td>
                      <td>{!rep.avilQty}</td>
                      <td>{!rep.avilQty2}</td>
                    </tr>
                  </aura:iteration>  
                </tbody>
              </table>
            </div>            
          </div>

          <footer class="slds-modal__footer">
            <lightning:button variant="neutral" label="Cancel" title="Brand action"
              onclick="{!c.closePartBasicInfoModal}" />
          </footer>
        </div>


      </div>

    </aura:if>

    <div aura:id="purchaseOrderDetailModalBackGround" class="slds-backdrop slds-backdrop_open"></div>

  </div>

</aura:component>